package radionica;

public class Motor extends Thread {
	
	private int dt = 100;
	private Mehanizam mehanizam;
	private boolean radi = false;
	
	public Motor(Mehanizam m){ mehanizam = m; start(); }
	
	public void promeniVreme(int ndt){ dt = ndt; }
	
	public void run(){
		try{
			while(!interrupted()){
				synchronized (this) {
					while (!radi) wait();
				}
				sleep((long)(dt*(0.8 + Math.random()*0.4)));
				mehanizam.radnja();
			}
		}catch(InterruptedException g){}
	}
	
	public synchronized void pokreni(){
		radi = true;
		notifyAll();
	}
	
	public void zaustavi(){
		radi = false;
	}
	
	public void prekini(){
		interrupt();
	}
	
}
